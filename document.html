<!DOCTYPE HTML>

<html>
	<head>
		<title>文档 - 代码方块MOD - Minecraft</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="assets/css/main.css" />
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
		<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
	</head>
	<body>

		<!-- Page Wrapper -->
			<div id="page-wrapper">

				<!-- Header -->
					<header id="header">
						<h1><a href="index.html">代码方块MOD</a></h1>
						<nav id="nav">
							<ul>
								<li class="special">
									<a href="#menu" class="menuToggle"><span>菜单Menu</span></a>
									<div id="menu">
										<ul>
											<li><a href="index.html">首页Home</a></li>
											<li><a href="download.html">下载Download</a></li>
											<li><a href="activation.html">激活代码编辑器Activation</a></li>
											<li><a href="document.html">文档Document</a></li>
											<li><a href="about.html">关于About</a></li>
											<!--<li><a href="#">Sign Up</a></li>
											<li><a href="#">Log In</a></li>-->
										</ul>
									</div>
								</li>
							</ul>
						</nav>
					</header>
			

				<!-- Main -->
					<article id="main">
						<header>
							<h2>API文档</h2>
							<p>代码方块帮助文档</p>
						</header>
						<section class="wrapper style5">
							<div class="inner">

								<section>
									<h2>CodeblockMOD介绍</h2>
									<ol>
										<li>
											<h3>代码方块<img src="images/code_block_0.png" alt="代码方块" /></h3>
											<p>这个方块可执行编写的代码，只能用'代码方块钥匙'才能打开。
											您可以通过此方块调用<a href="#">CodeAPI</a>，也可以直接调用游戏代码。
											当然，最明显的一点就是，可以持<a href="#">久化数据(保存数据)</a>，和更多的高效计算方法。
											</p>
											<p>运行的代码是JS脚本语言，您需要掌握JS的语法；使用为Java8的'nashorn'脚本引擎执行代码；
												<br />请参考<a href="#">CodeBlock代码特殊语法结构</a>。</p>
											
										</li>
										<li>
											<h3>代码方块钥匙<img src="images/codeblock_key.png" alt="代码方块钥匙" /></h3>
											<p>功能如名，'代码方块'的钥匙，用'铁砧'修改名字后可锁定打开过的'代码方块'。</p>
											<p>不同代码钥匙(名字区别)，分别有<u>不同的运行环境和脚本引擎</u>。(相同的代码钥匙打开过的代码方块，他们是共用一个脚本引擎，请注意同一个脚本引擎的全局变量的使用)</p>
										</li>
									</ol>
									
									<h4>更多的视频介绍</h4>
									<p>我为CodeBlockMOD做了一个教学视频，您可以点击这个链接，去B站观看我上传的教程。</p>
									<hr />
									
									<h2>代码特殊语法 (完善中...)</h2>
									<ol>
										<li>import导包功能</li>
										<li>内置变量: 1.全局变量 2.自动保存变量</li>
										<li>main方法function</li>
									</ol>
									<hr />
									
									<h2>代码接口CodeAPI</h2>
									<p>此列举方块，可通过'Code'变量对象调用，已内置初始化，无需导包。<br />
									<span style="color: #EF5E4A;">特别注意: 所有 static 静态Code方法 不能被'Code'变量直接调用，您需要手动导入'import red.stu.mc.api.Code;'包，才能使用这些静态方法；但是如果您导入'import red.stu.mc.api.Code;'包后，原有'Code'变量更能就会消失！<br />原因参阅:<a href="#">代码特殊语法-import原理</a></span>
									</p>
									
									<pre><code>
	/* 可直接调用变量 */
	public IBlockState iBlockState; // 执行此代码的'代码方块'
	public World worldIn; 		// '代码方块'所处World
	public BlockPos blockPos; 	// '代码方块'位置
	public Block blockIn;		// '代码方块'对象
	public BlockPos fromBlockPos;	// 红石信号来源位置
	
	/* static 静态Code方法  */
	/**
	 * 获取当前Minecraft实例对象
	 * 		此对象执行的效果不会被保存，意味执行修改一旦遭到刷新就会被修复。
	 * 		如果您想实际修改，请直接使用'worldIn'变量
	 * @return Minecraft
	 */
	public static Minecraft getMC() {
		return Minecraft.getMinecraft();
	}
	
	/**
	 * 根据方块名字获取方块对象
	 * @param name 方块名字 如空气"air"
	 * @return Block
	 */
	public static Block getBlockFromName(String name) {
		return Block.getBlockFromName(name);
	}
	
	/**
	 * 根据方块ID获取方块对象
	 * @param id 方块数字ID
	 * @return Block
	 */
	public static Block getBlockById(int id) {
		return Block.getBlockById(id);
	}
	
	/**
	 * 根据方块物品获取方块对象
	 * @param itemIn 方块物品
	 * @return Block
	 */
	public static Block getBlockFromItem(Item itemIn) {
		return Block.getBlockFromItem(itemIn);
	}
	
	/* Code普通方法 */
	/**
	 * 给当前世界所有玩家发送消息 (缩写方法名)
	 * @param message 消息内容
	 */
	public void sendMsg(String message) {
		sendMessage(message);
	}
	
	/**
	 * 给当前世界所有玩家发送消息
	 * @param message
	 */
	public void sendMessage(String message) {
		List<EntityPlayer> list =  worldIn.playerEntities;
		if (list == null)
			return;
		ITextComponent component = new TextComponentString(message);
		for (EntityPlayer player : list) {
			player.sendMessage(component);
		}
	}
	
	/**
	 * 放置方块
	 * @param state 方块状态  如:Block.getBlockFromName("air").getDefaultState();
	 * @param x X坐标
	 * @param y Y坐标
	 * @param z Z坐标
	 * @return boolean 是否放置成功
	 */
	public boolean setBlock(IBlockState state, int x, int y, int z) {
		return worldIn.setBlockState(new BlockPos(x, y, z), state);
	}
	
	/**
	 * 放置空气方块
	 * @param x X坐标
	 * @param y Y坐标
	 * @param z Z坐标
	 * @return boolean 是否放置成功
	 */
	public boolean setBlockToAir(int x, int y, int z) {
		return worldIn.setBlockToAir(new BlockPos(x, y, z));
	}
	
	/**
	 * 获取方块状态
	 * @param x X坐标
	 * @param y Y坐标
	 * @param z Z坐标
	 * @return IBlockState
	 */
	public IBlockState getBlockState(int x, int y, int z) {
		return worldIn.getBlockState(new BlockPos(x, y, z));
	}
	
	/**
	 * 获取方块不透明度
	 * @param x X坐标
	 * @param y Y坐标
	 * @param z Z坐标
	 * @return
	 */
	public int getBlockLightOpacity(int x, int y, int z) {
		return worldIn.getBlockLightOpacity(new BlockPos(x, y, z));
	}
	
	/**
	 * 获取当前方块世界类型
	 * @return WorldType
	 */
	public WorldType getWorldType() {
		return worldIn.getWorldType();
	}

</code></pre>
									<hr />
									
									

							</div>
						</section>
					</article>

				<!-- Footer -->
					<footer id="footer">
						<!--<ul class="icons">
							<li><a href="#" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
							<li><a href="#" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
							<li><a href="#" class="icon fa-instagram"><span class="label">Instagram</span></a></li>
							<li><a href="#" class="icon fa-dribbble"><span class="label">Dribbble</span></a></li>
							<li><a href="#" class="icon fa-envelope-o"><span class="label">Email</span></a></li>
						</ul>-->
						<ul class="copyright">
							<li>&copy; <a href="http://stu.red">STU.RED</a> - yihrmc</li>
							<li>QQ528711923</li>
							<li>yihrmc@163.com</li>
						</ul>
					</footer>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/skel.min.js"></script>
			<script src="assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="assets/js/main.js"></script>

	</body>
</html>